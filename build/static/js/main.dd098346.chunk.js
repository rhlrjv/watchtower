(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,function(e,t,n){e.exports=n(15)},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(3),i=n.n(r),o=(n(11),n(4)),l=n(1),s=(n(12),n(13),n(14),{unknown:"UNKNOWN",healthy:"HEALTHY",unhealthy:"UNHEALTHY"}),u=function(e){var t=e.details,n=e.pollingInterval,r=Object(a.useState)(s.unknown),i=Object(l.a)(r,2),o=i[0],u=i[1];function f(){console.log("Refreshing status for service:"+t.name);var e=function(e){console.log("Setting status as unhealthy for service: "+t.name),console.log("error: "+e),u(s.unhealthy)};fetch(t.url,{method:t.method,mode:"no-cors",credentials:"omit"}).then(function(e){console.log("Setting status as healthy for service: "+t.name),u(s.healthy)},e).catch(e)}return Object(a.useEffect)(function(){f();var e=window.setInterval(function(){f()},60*n*1e3);return function(){return window.clearInterval(e)}},[t]),c.a.createElement("div",{className:"service-tile"+(o===s.healthy?" service-tile--healthy":"")+(o===s.unhealthy?" service-tile--unhealthy":"")},c.a.createElement("div",{className:"service__name"},t.name),c.a.createElement("div",{className:"service__url"},t.url))},f=function(e){var t=e.config;return c.a.createElement("div",{className:"monitor"},c.a.createElement("div",{className:"monitor__header"},t.title),c.a.createElement("div",{className:"monitor__details"}),c.a.createElement("div",{className:"monitor__services"},t.services.map(function(e,n){return c.a.createElement(u,{key:n,details:e,pollingInterval:t.pollingIntervalInMins})})))},m={title:"Default title",pollingIntervalInMins:5,services:[]},h=function(e){var t=e.configPath,n=Object(a.useState)(m),r=Object(l.a)(n,2),i=r[0],s=r[1];return Object(a.useEffect)(function(){fetch(t).then(function(e){return e.json()}).then(function(e){return s(Object(o.a)({},m,e))})},t),c.a.createElement("div",{className:"App"},c.a.createElement(f,{config:i}))};i.a.render(c.a.createElement(h,{configPath:"./config.json"}),document.getElementById("root"))}],[[5,1,2]]]);
//# sourceMappingURL=main.dd098346.chunk.js.map